<custom-modal *ngIf="showModal" [modalOptions]="modalOptions">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12">
        <mat-form-field dir="rtl">
          <mat-label dir="rtl">انتخاب</mat-label>
          <mat-select dir="rtl" [(value)]="activeComboId" (selectionChange)="changeCombo($event.value)" name="item">
            <mat-option dir="rtl" *ngFor="let item of comboList" [value]="item.Id">{{item.CodeDesc_Fld}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-12" *ngIf="showTree">
        <div style="display: flex">
          <div class="body">
            <mat-form-field dir="rtl">
              <mat-label dir="rtl">جست و جو</mat-label>
              <input type="text" dir="rtl" matInput placeholder="برای جست و جو بنویسید" [(ngModel)]="filterValue"
                (ngModelChange)="onKey($event)" [ngModelOptions]="{standalone: true}">
            </mat-form-field>
            <i (click)="clearFilter()" class="fa fa-eraser text-primary erase-icon"></i>
          </div>
        </div>

        <div *ngIf="multiple" class="select-all">
          <mat-checkbox class="checklist-leaf-node" (change)="selectAll()">
          </mat-checkbox>
          <mat-label>انتخاب همه</mat-label>
        </div>

        <mat-tree dir="rtl" [dataSource]="dataSource" [treeControl]="treeControl">
          <mat-tree-node dir="rtl" *matTreeNodeDef="let node" matTreeNodePadding>
            <mat-checkbox *ngIf="multiple" class="checklist-leaf-node" [checked]="checklistSelection.isSelected(node)"
              (change)="todoLeafItemSelectionToggle(node)">
            </mat-checkbox>
            <mat-label (dblclick)="dblclick(node)" dir="rtl">{{node.name}}
            </mat-label>
          </mat-tree-node>

          <mat-tree-node dir="rtl" *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
            <mat-checkbox *ngIf="multiple" class="checklist-leaf-node" [checked]="node.selected"
              [indeterminate]="descendantsPartiallySelected(node)"
              (change)="todoItemSelectionToggle(node)">
            </mat-checkbox>
            <i matTreeNodeToggle *ngIf="hasChild"
              [ngClass]="treeControl.isExpanded(node) ? 'fa fa-angle-down' : 'fa fa-angle-left'"></i>
            <mat-label (dblclick)="dblclick(node)" [class.text-danger]="hasChild" dir="rtl"
              [class.last-child]="!hasChild">{{node.name}}</mat-label>
          </mat-tree-node>

        </mat-tree>
      </div>
    </div>
  </div>
</custom-modal>
<!-- [indeterminate]="descendantsPartiallySelected(node)" -->
<!-- [checked]="descendantsAllSelected(node)"  -->
